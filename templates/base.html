{% load static %}
<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Agro Smart</title>
<link rel="stylesheet" href="{% static 'css/styles.css' %}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<header>
<nav>
    {% if user.is_authenticated %}
        {% if user.role == 'farmer' %}
            <a href="{% url 'sowing_create' %}">Nueva siembra</a>
            <a href="{% url 'viability' %}">Viabilidad</a>
            <a href="{% url 'weather' %}">El clima</a>
            <a href="{% url 'my_sowings' %}">Mis siembras</a>
            <a href="{% url 'price_predict' %}">Predecir nuevo precio</a>
        {% elif user.role == 'admin' %}
            <a href="{% url 'admin_dashboard' %}">Panel Admin</a>
            <a href="{% url 'weather' %}">El clima</a>
            <a href="{% url 'reports' %}">Generar reportes</a>
            <a href="{% url 'admin_create_user' %}">Registrar usuario</a>
        {% endif %}

        <form method="post" action="{% url 'logout' %}" style="display:inline;">
            {% csrf_token %}
            <button type="submit" style="background:none; border:none; color:inherit; cursor:pointer;">Salir</button>
        </form>
    {% endif %}
</nav>

{% if user.is_authenticated and user.role == 'admin' %}
    <a href="{% url 'admin_create_user' %}">Registrar usuario</a>
{% endif %}

{% for msg in messages %}
    <p class="msg {{ msg.tags }}">{{ msg }}</p>
{% endfor %}
</header>
<main>
{% block content %}{% endblock %}
</main>
</body>
</html>
